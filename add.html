<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>ADD</title>
</head>

<body>
    <a href="/">Return Home</a>
    <h1>TEST2</h1>
    <script type="text/javascript">


        function checkReservations() {

            $.ajax({ url: "/api/tables", method: "GET" })
                .then(function (tableData) {


                    console.log(tableData);
                    console.log("------------------------------------");

                    for (var i = 0; i < tableData.length; i++) {

                        var tableList = $("#tableList");

                        var listItem = $("<li class='list-group-item mt-4'>");

                        listItem.append(
                            $("<h2>").text("Table #" + (i + 1)),
                            $("<hr>"),
                            $("<h2>").text("Name: " + tableData[i].customerName),
                            $("<h2>").text("Phone: " + tableData[i].phoneNumber),
                            $("<h2>").text("Email: " + tableData[i].customerEmail),
                            $("<h2>").text("ID: " + tableData[i].customerID),
                        );

                        tableList.append(listItem);
                    }
                });
        }

        function waitList() {

            $.ajax({ url: "/api/waitlist", method: "GET" })
                .then(function (waitData) {

                    console.log(waitData);
                    console.log("------------------------------------");

                    for (var i = 0; i < waitData.length; i++) {

                        var waitList = $("#waitList");

                        var listItem = $("<li class='list-group-item mt-4'>");

                        listItem.append(
                            $("<h2>").text("Table #" + (i + 1)),
                            $("<hr>"),
                            $("<h2>").text("Name: " + tableData[i].customerName),
                            $("<h2>").text("Phone: " + tableData[i].phoneNumber),
                            $("<h2>").text("Email: " + tableData[i].customerEmail),
                            $("<h2>").text("ID: " + tableData[i].customerID),
                        );

                        waitList.append(listItem);
                    }
                });
        }

        function clearReservations() {
            alert("Clearing...");

            $.ajax({ url: "/api/clear", method: "POST" }).then(function () {
                $("#waitList").empty();
                $("#tableList").empty();
            });
        }

        $("#clear").on("click", clearReservations);

        checkReservations();
        waitList();


    </script>
</body>

</html>